description = "Integration with WRO4J to perform runtime CoffeeScript compilation, JavaScript minimization, and more."

dependencies {
    compile project(":tapestry-core")
    compile "ro.isdc.wro4j:wro4j-extensions:${versions.wro4j}", {
        exclude group: "org.codehaus.gmaven.runtime"
        exclude group: "com.github.lltyk"
        // Due to conflict:
        exclude group: "org.slf4j"
    }

    testCompile project(":tapestry-runner")
    testCompile "org.gebish:geb-spock:${versions.geb}"
    testCompile "org.spockframework:spock-core:${versions.spock}"

    testCompile "org.seleniumhq.selenium:selenium-java:${versions.selenium}", {
        exclude group: "org.eclipse.jetty"
    }
    testCompile "org.seleniumhq.selenium:selenium-server:${versions.selenium}", {
        exclude group: "org.eclipse.jetty"
    }
}

jar.manifest {
    attributes 'Tapestry-Module-Classes': 'org.apache.tapestry5.wro4j.modules.WRO4JModule'
}


test {
    useJUnit()

    systemProperties "geb.build.reportsDir": "$reportsDir/geb"
}